# 竞赛题目
## 1 题目介绍
> OpenCloudOS 社区关注到容器镜像的OCIv1标准采用分层和tar格式存储存在显著缺陷，讨论已久的OCIv2标准将延迟加载和减少数据重复列为核心挑战
1.1 数据重复

(1)存储冗余：层内文件重复、跨层冗余、跨镜像相同文件因哈希差异无法去重，导致镜像仓库存储疯狂膨胀
(2)内存低效：宿主机多容器重复映射相同文件（如动态库），内存资源利用率显著降低
1.2 延迟加载
全量下载阻塞：传统镜像需完整下载解压，据数据统计76%启动时间消耗在镜像拉取，全量下载会影响启动速度
业界已有的按需加载方案，如containerd社区子项目stargz-snapshotter，依赖fuse，存在性能和可靠性问题，其他方案也存在不同的问题，不满足业务需求
需要参赛者设计并实现一个不依赖fuse、保留层、数据去重的按需加载方案
## 2 预期效果
2.1 按需分层下载机制
基于容器实时操作行为，按需加载数据，避免全量下载冗余数据，缩短冷启动速度。可以容器构建时跟踪容器业务文件访问时序，在容器运行时文件预取的方式优化性能
效果：降低无效数据传输量，缩短首次启动时间
2.2 减少重复数据
文件级去重：对完整文件生成唯一哈希指纹，避免重复存储相同文件。块级去重：大文件切割为固定块（如4MB），独立生成块哈希值，实现跨文件的数据块复用
效果：节省本地存储资源
2.3 兼容OCI v1容器镜像规范
无缝对接Docker、Containerd等运行时引擎，支持标准镜像层（Layers），提供兼容性扩展